{
    "SyncGranule": {
        "buckets": "{{$.meta.buckets}}",
        "provider": "{{$.meta.provider}}",
        "collection": "{{$.meta.collection}}",
        "cumulus_message": {
            "outputs": [
                {
                    "source": "{{$.granules}}",
                    "destination": "{{$.meta.input_granules}}"
                },
                {
                    "source": "{{$}}",
                    "destination": "{{$.payload}}"
                }
            ]
        }
    },
    "ChooseProcess": {},
    "AsterProcess": {
        "buckets": "{{$.meta.buckets}}",
        "distribution_endpoint": "{{$.meta.distribution_endpoint}}",
        "granuleIdExtraction": "{{$.meta.collection.granuleIdExtraction}}",
        "files_config": "{{$.meta.collection.files}}",
        "url_path": "{{$.meta.collection.url_path}}",
        "cumulus_message": {
            "input": "{[$.payload.granules[*].files[*].filename]}",
            "outputs": [
                {
                    "source": "{{$}}",
                    "destination": "{{$.meta.all_the_files}}"
                },
                {
                    "source": "{{$}}",
                    "destination": "{{$.payload}}"
                }
            ]
        }
    },
    "ModisProcess": {
        "buckets": "{{$.meta.buckets}}",
        "distribution_endpoint": "{{$.meta.distribution_endpoint}}",
        "granuleIdExtraction": "{{$.meta.collection.granuleIdExtraction}}",
        "files_config": "{{$.meta.collection.files}}",
        "url_path": "{{$.meta.collection.url_path}}",
        "cumulus_message": {
            "input": "{[$.payload.granules[*].files[*].filename]}",
            "outputs": [
                {
                    "source": "{{$}}",
                    "destination": "{{$.meta.all_the_files}}"
                },
                {
                    "source": "{{$}}",
                    "destination": "{{$.payload}}"
                }
            ]
        }
    },
    "CmrStep": {
        "bucket": "{{$.meta.buckets.internal}}",
        "stack": "{{$.meta.stack}}",
        "granuleIdExtraction": "{{$.meta.collection.granuleIdExtraction}}",
        "cmr": "{{$.meta.cmr}}",
        "input_granules": "{{$.meta.input_granules}}"
    }
}