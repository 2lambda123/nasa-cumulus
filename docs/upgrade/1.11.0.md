---
id: 1.11.0
title: Upgrading to Cumulus 1.11.0
hide_title: true
---

# Upgrading to Cumulus 1.11.0

## Additional Functionality

Cumulus 1.11.0 adds a inbound/outbound log-stream for all Kinesis streams targeted by a rule.  This mapping is setup on rule creation and removed on rule deletion, so any existing rules will not have the logging setup.

An optional migration is included with this release that will add the associated event mapping to the KinesisInboundEventLogger lambda and update the rules table accordingly.     If you do not run this migration rules added prior to 1.11 will not be logged.

**Please note**: The migration cli/api has changed in this version - to run migrations prior to and including 1.11, you will need to manually run
the migrations associated with the release upgrades in the correct order.

The following migrations are mapped to each prior upgrade:

-  1.6.0: *migration1*
-  1.7.0: *migration2*
-  1.9.0: *migration3*
-  1.11.0: *migration4*

## Run migrations
As noted above, a migration (migration4)  exists to add log event mappings for existing Kinesis rules.  It can be run via the migration lambda once deployment of 1.11.0 is complete.  This is possible in three ways:

1. **Use cumulus-api command line utility:**
```
$ ./node_modules/.bin/cumulus-api migrate --stack <your-cloudformation-stack-name> --migrationVersion <migration name goes here>
```
2. **Invoke the lambda function directly with AWS CLI:**
```
$ aws lambda invoke --function-name <your-cloudformation-stack-name>-executeMigrations --payload '{"migrations": ["<migration name goes here>"]}'
```
3. **Invoke the lambda function from the AWS website:**
  - go to the lambda service
  - find the `<your-cloudformation-stack-name>-executeMigrations`
  - Add `{"migrations": ["<migration name goes here>"]}` to the test payload
  - click on `Test` Button
