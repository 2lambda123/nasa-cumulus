{
    "events": [
        {
            "timestamp": 1569349945.14,
            "type": "ExecutionStarted",
            "id": 1,
            "previousEventId": 0,
            "executionStartedEventDetails": {
                "input": "{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}",
                "roleArn": "arn:aws:iam::12345678:role/prefix-test-steprole"
            }
        },
        {
            "timestamp": 1569349945.206,
            "type": "TaskStateEntered",
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
                "name": "SyncGranule",
                "input": "{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"
            }
        },
        {
            "timestamp": 1569349945.206,
            "type": "LambdaFunctionScheduled",
            "id": 3,
            "previousEventId": 2,
            "lambdaFunctionScheduledEventDetails": {
                "resource": "arn:aws:lambda:us-east-1:12345678:function:prefix-test-SyncGranule:SyncGranule-b8cb31337a96e7a4ecc914308f03dc7fa905fcd5",
                "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"event\":{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}}}"
            }
        },
        {
            "timestamp": 1569349945.241,
            "type": "LambdaFunctionStarted",
            "id": 4,
            "previousEventId": 3
        },
        {
            "timestamp": 1569349947.006,
            "type": "LambdaFunctionFailed",
            "id": 5,
            "previousEventId": 4,
            "lambdaFunctionFailedEventDetails": {
                "error": "FileNotFound",
                "cause": "{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:132551:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"
            }
        },
        {
            "timestamp": 1569349949.006,
            "type": "LambdaFunctionScheduled",
            "id": 6,
            "previousEventId": 5,
            "lambdaFunctionScheduledEventDetails": {
                "resource": "arn:aws:lambda:us-east-1:12345678:function:prefix-test-SyncGranule:SyncGranule-b8cb31337a96e7a4ecc914308f03dc7fa905fcd5",
                "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"event\":{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}}}"
            }
        },
        {
            "timestamp": 1569349949.017,
            "type": "LambdaFunctionStarted",
            "id": 7,
            "previousEventId": 6
        },
        {
            "timestamp": 1569349950.622,
            "type": "LambdaFunctionFailed",
            "id": 8,
            "previousEventId": 7,
            "lambdaFunctionFailedEventDetails": {
                "error": "FileNotFound",
                "cause": "{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:132551:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"
            }
        },
        {
            "timestamp": 1569349954.622,
            "type": "LambdaFunctionScheduled",
            "id": 9,
            "previousEventId": 8,
            "lambdaFunctionScheduledEventDetails": {
                "resource": "arn:aws:lambda:us-east-1:12345678:function:prefix-test-SyncGranule:SyncGranule-b8cb31337a96e7a4ecc914308f03dc7fa905fcd5",
                "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"event\":{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}}}"
            }
        },
        {
            "timestamp": 1569349954.648,
            "type": "LambdaFunctionStarted",
            "id": 10,
            "previousEventId": 9
        },
        {
            "timestamp": 1569349957.444,
            "type": "LambdaFunctionFailed",
            "id": 11,
            "previousEventId": 10,
            "lambdaFunctionFailedEventDetails": {
                "error": "FileNotFound",
                "cause": "{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:132551:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"
            }
        },
        {
            "timestamp": 1569349965.444,
            "type": "LambdaFunctionScheduled",
            "id": 12,
            "previousEventId": 11,
            "lambdaFunctionScheduledEventDetails": {
                "resource": "arn:aws:lambda:us-east-1:12345678:function:prefix-test-SyncGranule:SyncGranule-b8cb31337a96e7a4ecc914308f03dc7fa905fcd5",
                "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"event\":{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}}}"
            }
        },
        {
            "timestamp": 1569349965.456,
            "type": "LambdaFunctionStarted",
            "id": 13,
            "previousEventId": 12
        },
        {
            "timestamp": 1569349967.164,
            "type": "LambdaFunctionFailed",
            "id": 14,
            "previousEventId": 13,
            "lambdaFunctionFailedEventDetails": {
                "error": "FileNotFound",
                "cause": "{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:132551:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"
            }
        },
        {
            "timestamp": 1569349967.164,
            "type": "TaskStateExited",
            "id": 15,
            "previousEventId": 14,
            "stateExitedEventDetails": {
                "name": "SyncGranule",
                "output": "{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:132551:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}}"
            }
        },
        {
            "timestamp": 1569349967.173,
            "type": "FailStateEntered",
            "id": 16,
            "previousEventId": 15,
            "stateEnteredEventDetails": {
                "name": "WorkflowFailed",
                "input": "{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:12345678:stateMachine:prefixTestIngestGranuleStateMachine-I7e85YUgyKKe\",\"execution_name\":\"348f36d0-1462-4c3a-a391-151cab953e55\",\"workflow_start_time\":1569349944955},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"prefix-test\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"cumulus-test-sandbox-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"sandbox-dashboard\":{\"name\":\"cumulus-dashboard-sandbox\",\"type\":\"shared\"},\"sit-dashboard\":{\"name\":\"cumulus-dashboard-sit\",\"type\":\"shared\"}},\"cmr\":{\"oauthProvider\":\"earthdata\",\"username\":\"prefix\",\"provider\":\"CUMULUS\",\"clientId\":\"cumulus-core-prefix-test\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50},\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphrase\":\"nopassphrase\"},\"distribution_endpoint\":\"https://ue20nn8lk8.execute-api.us-east-1.amazonaws.com:7000/dev/\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"createdAt\":1569349943957,\"name\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"private\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"protected-2\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"},{\"bucket\":\"public\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}/prefix-test-IngestGranuleFailure-1569349942758/\"}],\"updatedAt\":1569349943957,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"reportToEms\":false,\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1569349943064,\"id\":\"s3_provider_test-prefix-test-IngestGranuleFailure-1569349942758\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1569349943064,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsHelloWorldWorkflow.json\",\"EcsKesCMAHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/EcsKesCMAHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranulesBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/DiscoverGranulesBrowseExample.json\",\"CookbookBrowseExample\":\"s3://cumulus-test-sandbox-internal/prefix-test/workflows/CookbookBrowseExample.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-triggerLambdaFailure\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-startSF\",\"cleanExecutionsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-cleanExecutionsDeadLetterQueue\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-dbIndexerDeadLetterQueue\",\"EmsIngestReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-EmsIngestReportDeadLetterQueue\",\"backgroundProcessing\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-backgroundProcessing\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/12345678/prefix-test-ScheduleSFDeadLetterQueue\"},\"queueExecutionLimits\":{\"backgroundProcessing\":5}},\"workflow_config\":{\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"input\":\"{{$.payload}}\",\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.files}}\",\"destination\":\"{{$.payload}}\"}]}},\"FilesToGranulesStep\":{\"inputGranules\":\"{{$.meta.input_granules}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"WorkflowSucceeded\":{},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244\",\"dataType\":\"MOD09GQ_test-prefix-test-IngestGranuleFailure-1569349942758\",\"version\":\"006\",\"files\":[{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":1098034,\"type\":\"data\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":21708,\"type\":\"metadata\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244.hdf.met\"},{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":9728,\"type\":\"browse\",\"name\":\"MOD09GQ.A6778173.bG2Syo.006.5767316942244_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"prefix-test-IngestGranuleFailure-1569349942758-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:132551:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}}"
            }
        },
        {
            "timestamp": 1569349967.173,
            "type": "ExecutionFailed",
            "id": 17,
            "previousEventId": 16,
            "executionFailedEventDetails": {
                "cause": "Workflow failed"
            }
        }
    ]
}
